# CS528 VR Project

Project by Hal Brynteson. 

## Overview

For this project, the goal is to visualize stars and associated constellations in the CAVE2 using Unity3D. 
* The GitHub with the Unity Project can be found [here](https://github.com/halBRY/CS528-Project)
* A video of the project working in the Unity Editor can be found [here](https://drive.google.com/file/d/1CRULddfhGBJ3oyMP_4fFgXRbFawCzfJK/view?usp=sharing)

## Data and Data Preprocessing

The data for the stars, their locations, their spectral types, and other information is found [here](https://github.com/astronexus/ATHYG-Database/tree/main/data/subsets). Data to link stars into constellations is found [here](https://github.com/Stellarium/stellarium/tree/master/skycultures/modern).

Preprocessing for the data was done in R. You can access the R scripts [here](https://github.com/halBRY/CS528-Docs/tree/main/DataPreprocessing). Generally, the following processing was done:
* Drop stars without a spectral type, or (x,y,z) coordinate.
* Calculate the (x,y,z) coordinate in "feet".
    * The (x,y,z) coords in the data are given in parsecs. If a parsec maps to one meter in Unity units, here the parsecs are treated as meters, and converted as such. 
* Calculate a "luminance" of each star based on its apparent magnitude. 
* Create a "constellations.txt" file that replaces the hip IDs in from Stellarium's constalltion data with the (x,y,z) coordinates.

The processed data files are placed in the Unity project in the `/Assets/Data` folder. 

## Unity Application

The Unity application uses the CAVE2 simulator from the omicron-unity package. To run the application, you will need to use Unity version 2019.2.11f1. The GitHub repository should already contain the necessary packages (omicron-unity and Multiplayer HLAPI). If, when the project is opened, there are compiler errors, double check that Multiplayer HLAPI is installed by checking in the **Window > Package Manager**, and omicron-unity is present by checking for the drop-down at the top, shown below: 
![Omicron drop-down indicated by a red square](omicron_check.png)

To run, you will need to perform the following steps:
1. Clone the code in the CS528-Project repository
2. Make sure you have Unity version 2019.2.11f1. Then you can add the CS528-Project folder as a Unity project and open in the editor. 
3. If it is not added automatically, navigate to `/Assets/Scenes`, and drag the "starScene" into the hierarchy. 
4. (Mac Only) If you are using Mac, you will not be able to run the code if your graphics API is set to Metal. In the Unity editor, open the player settings in **Edit > Project Settings > Player > Other Settings**. Find the "Auto Graphics API for Mac" checkbox, uncheck it, and switch your graphics API to **OpenGL**. 
    * You can find more information about enabling OpenGL in the [Unity docs](https://docs.unity3d.com/Manual/OpenGLCoreDetails.html).

In the Unity Editor, the application looks like the image below, with spheres generated by a geometry shader at runtime. The spheres are sized and colored by their spectral type color, or shown as a set size and cyan if their spectral type was not part of the "OBAFGKM" scale. White lines show links between stars that create constellations. The solar system model can be toggled with the "G" key, or the "up" button in the CAVE2. ![Image of the starVR visualization in the CAVE2 simulator](image.png)
